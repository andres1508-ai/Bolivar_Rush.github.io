<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Configuraci√≥n b√°sica de la p√°gina -->
    <meta charset="UTF-8"> <!-- Permite usar caracteres especiales como √± y acentos -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Hace que la p√°gina se vea bien en celulares -->
    <title>Seguros Bol√≠var - Suscripciones para J√≥venes con Asesor IA</title>
    
    <!-- Aqu√≠ traemos estilos y herramientas que necesitamos -->
    <script src="https://cdn.tailwindcss.com"></script> <!-- Framework de CSS para hacer la p√°gina bonita -->
    <link rel="preconnect" href="https://fonts.googleapis.com"> <!-- Prepara la conexi√≥n para cargar fuentes -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet"> <!-- Trae la fuente Poppins que es moderna y bonita -->
    
    <link rel="stylesheet" href="styles.css"> <!-- Conecta nuestro archivo de estilos personalizado -->
</head>
<body class="text-text-dark">
    
    <!-- Este es el video que se ve detr√°s de toda la aplicaci√≥n, como un fondo animado -->
    <video 
        id="global-background-video"
        autoplay    <!-- Se reproduce autom√°ticamente -->
        muted       <!-- Sin sonido para no molestar al usuario -->
        loop        <!-- Se repite infinitamente -->
        playsinline <!-- Se reproduce dentro de la p√°gina, no en pantalla completa -->
        preload="auto" <!-- Carga el video antes de que el usuario lo pida -->
        class="fixed top-0 left-0 w-full h-full object-cover z-[-1]"> <!-- Se posiciona fijo detr√°s de todo -->
        <source src="video/fondo.mp4" type="video/mp4"> <!-- Aqu√≠ est√° el archivo de video -->
    </video>

    <!-- Esta es la pantalla de inicio de sesi√≥n que ve el usuario primero -->
    <div id="login-screen" class="min-h-screen flex items-center justify-center p-4 bg-gray-light relative overflow-hidden">
        <!-- Una capa oscura encima del video para que el texto se lea mejor -->
        <div class="absolute inset-0 bg-black bg-opacity-30 z-10"></div>
        
        <!-- El formulario de login con fondo transparente que se ve elegante -->
        <div class="w-full max-w-md bg-white bg-opacity-95 backdrop-blur-sm p-8 rounded-2xl shadow-xl relative z-20">
            <!-- Encabezado con logo y mensaje de bienvenida -->
            <div class="text-center mb-8">
                <img src="https://femac.coop/images/2023/servicios/convenios/seguros-bolivar.png" alt="Logo Seguros Bol√≠var" class="h-16 mx-auto mb-4" onerror="this.onerror=null;this.src='https://placehold.co/250x60/FFFFFF/00A859?text=Seguros+Bol√≠var';" style="width: 200px; height: auto;">
                <h1 class="text-2xl font-bold text-bolivar-green">Bienvenido</h1>
                <p class="text-text-light">Gestiona tus seguros de forma f√°cil.</p>
            </div>
            <!-- Formulario para que el usuario escriba su email y contrase√±a -->
            <form id="login-form">
                <div class="mb-4">
                    <label for="email" class="block text-text-dark font-semibold mb-2">Correo Electr√≥nico</label>
                    <input type="email" id="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-bolivar-yellow" value="joven.seguro@email.com" required>
                </div>
                <div class="mb-6">
                    <label for="password" class="block text-text-dark font-semibold mb-2">Contrase√±a</label>
                    <input type="password" id="password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-bolivar-yellow" value="123456" required>
                </div>
                <!-- Bot√≥n para entrar a la aplicaci√≥n -->
                <button type="submit" class="w-full bg-bolivar-green text-white font-bold py-3 px-4 rounded-lg hover:bg-bolivar-green-dark transition-all duration-300 transform hover:scale-105">
                    Iniciar Sesi√≥n
                </button>
                <div class="text-center mt-6">
                    <a href="#" class="text-sm text-text-light hover:text-bolivar-green">¬øOlvidaste tu contrase√±a?</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Esta es la pantalla principal que se muestra despu√©s de hacer login -->
    <div id="dashboard-screen" class="hidden min-h-screen flex flex-col">
        <!-- Barra superior con logo y navegaci√≥n -->
        <header class="w-full bg-white bg-opacity-95 backdrop-blur-md shadow-sm">
            <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
                <!-- Logo y men√∫ de navegaci√≥n -->
                <div class="flex items-center space-x-8">
                    <img src="https://femac.coop/images/2023/servicios/convenios/seguros-bolivar.png" alt="Logo Seguros Bol√≠var" class="h-8">
                    <!-- Men√∫ que solo se ve en pantallas grandes -->
                    <nav class="hidden md:flex space-x-6">
                        <a href="#" id="inicio-btn" class="text-text-dark hover:text-bolivar-green font-medium">Inicio</a>
                        <a href="#" id="asistente-btn" class="text-text-dark hover:text-bolivar-green font-medium">Asistente Virtual</a>
                        <a href="#" id="mis-seguros-btn" class="text-text-dark hover:text-bolivar-green font-medium">Mis Seguros</a>
                        <a href="#" id="medios-pago-btn" class="text-text-dark hover:text-bolivar-green font-medium">Medios de Pago</a>
                    </nav>
                </div>
                
                <!-- Botones del usuario en la esquina derecha -->
                <div class="flex items-center space-x-4">
                    <button id="logout-button" class="text-text-dark hover:text-bolivar-green font-medium">
                        Cerrar Sesi√≥n
                    </button>
                    <!-- Avatar del usuario -->
                    <div class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center">
                        <span class="text-sm">üë§</span>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Contenido principal donde se dibujan los seguros y planes -->
        <main class="flex-grow bg-transparent backdrop-blur-sm px-4 py-8">
            <div class="max-w-7xl mx-auto">
                <!-- Mensaje de bienvenida que solo se ve en la pantalla principal -->
                <div id="welcome-message" class="text-center mb-12">
                    <h1 class="text-4xl font-bold text-white mb-4">Hola, ¬°qu√© bueno verte!</h1>
                    <p class="text-white text-lg max-w-2xl mx-auto">
                        Este es tu centro de control. Elige qu√© quieres proteger y arma un plan a tu medida.
                    </p>
                </div>
                
                <!-- Aqu√≠ es donde se dibuja todo el contenido interactivo -->
                <div id="canvas-container">
                    <canvas id="dashboard-canvas"></canvas> <!-- El lienzo donde se pintan las tarjetas y botones -->
                    <!-- Chat con el asesor virtual que aparece cuando se necesita -->
                    <div id="chat-interface" style="display: none;">
                        <textarea id="chat-input" placeholder="Escribe tu pregunta..."></textarea>
                        <button id="chat-submit">‚û§</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Aqu√≠ conectamos el archivo JavaScript que hace funcionar toda la interactividad -->
    <script src="scripts.js"></script>
    
    <!-- Script especial para asegurarse de que el video de fondo funcione en todos los navegadores -->
    <script>
        // Cuando la p√°gina termine de cargar, ejecuta esta funci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            // Busca el video en la p√°gina
            const video = document.querySelector('#global-background-video');
            
            if (video) {
                console.log('Video de fondo global encontrado, configurando...');
                
                // Configura el video para que funcione correctamente
                video.muted = true;         // Sin sonido
                video.autoplay = true;      // Se reproduce solo
                video.loop = true;          // Se repite infinitamente
                video.playsInline = true;   // No se va a pantalla completa
                
                // Mensajes para saber qu√© est√° pasando con el video (solo para desarrolladores)
                video.addEventListener('loadstart', () => console.log('Video: Iniciando carga'));
                video.addEventListener('loadedmetadata', () => console.log('Video: Metadatos cargados'));
                video.addEventListener('loadeddata', () => console.log('Video: Datos cargados'));
                video.addEventListener('canplay', () => {
                    console.log('Video: Listo para reproducir');
                    video.play(); // Intenta reproducir el video
                });
                video.addEventListener('playing', () => console.log('Video: Reproduci√©ndose'));
                video.addEventListener('error', (e) => console.error('Video: Error', e));
                
                // Espera un poquito y luego intenta reproducir el video
                setTimeout(() => {
                    const playPromise = video.play();
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            console.log('‚úÖ Video de fondo reproduci√©ndose correctamente en toda la aplicaci√≥n');
                        }).catch(error => {
                            console.log('‚ùå Error al reproducir video:', error);
                            console.log('Video path:', video.currentSrc);
                            
                            // Si no se puede reproducir autom√°ticamente, espera a que el usuario haga clic
                            const playOnClick = () => {
                                video.play().then(() => {
                                    console.log('‚úÖ Video iniciado despu√©s de interacci√≥n');
                                    document.removeEventListener('click', playOnClick);
                                }).catch(e => console.log('‚ùå Error en segundo intento:', e));
                            };
                            document.addEventListener('click', playOnClick);
                        });
                    }
                }, 100);
            } else {
                console.error('‚ùå Video de fondo global no encontrado');
            }
        });
    </script>
</body>
</html>